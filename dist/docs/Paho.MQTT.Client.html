<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Client</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Client</h1>

    



<section>

<header>
    <h2>
        <span class="ancestors"><a href="Paho.MQTT.html">.MQTT</a>.</span>
    
    Client
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="Client"><span class="type-signature"></span>new Client<span class="signature">(host, port, path, clientId)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        The JavaScript application communicates to the server using a <a href="Paho.MQTT.Client.html">Paho.MQTT.Client</a> object. <p>Most applications will create just one Client object and then call its connect() method,however applications can create more than one Client object if they wish. In this case the combination of host, port and clientId attributes must be different for each Client object.<p>The send, subscribe and unsubscribe methods are implemented as asynchronous JavaScript methods (even though the underlying protocol exchange might be synchronous in nature). This means they signal their completion by calling back to the application, via Success or Failure callback functions provided by the application on the method in question. Such callbacks are called at most once per method invocation and do not persist beyond the lifetime of the script that made the invocation.<p>In contrast there are some callback functions, most notably <i>onMessageArrived</i>, that are defined on the <a href="Paho.MQTT.Client.html">Paho.MQTT.Client</a> object.  These may get called multiple times, and aren't directly related to specific method invocations made by the client.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>host</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the address of the messaging server, as a fully qualified WebSocket URI, as a DNS name or dotted decimal IP address.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>port</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">the port number to connect to - only required if host is not a URI</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the path on the host to connect to - only used if host is not a URI. Default: '/mqtt'.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>clientId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the Messaging client identifier, between 1 and 23 characters in length.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

        <h5 class="subsection-title">Properties:</h5>

        <dl>

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>host</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><i>read only</i> the server's DNS hostname or dotted decimal IP address.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>port</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><i>read only</i> the server's port.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><i>read only</i> the server's path.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>clientId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><i>read only</i> used when connecting to the server.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onConnectionLost</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">called when a connection has been lost.                            after a connect() method has succeeded.                           Establish the call back used when a connection has been lost. The connection may be                           lost because the client initiates a disconnect or because the server or network                            cause the client to be disconnected. The disconnect call back may be called without                            the connectionComplete call back being invoked if, for example the client fails to                            connect.                           A single response object parameter is passed to the onConnectionLost callback containing the following fields:                           <ol>                              <li>errorCode                           <li>errorMessage                                  </ol></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onMessageDelivered</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">called when a message has been delivered.                            All processing that this Client will ever do has been completed. So, for example,                           in the case of a Qos=2 message sent by this client, the PubComp flow has been received from the server                           and the message has been removed from persistent storage before this callback is invoked.                            Parameters passed to the onMessageDelivered callback are:                           <ol>                              <li><a href="Paho.MQTT.Message.html">Paho.MQTT.Message</a> that was delivered.                           </ol></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onMessageArrived</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">called when a message has arrived in this Paho.MQTT.client.                            Parameters passed to the onMessageArrived callback are:                           <ol>                              <li><a href="Paho.MQTT.Message.html">Paho.MQTT.Message</a> that has arrived.                           </ol></td>
        </tr>

    
    </tbody>
</table></dl>

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mqttws31.js.html">mqttws31.js</a>, <a href="mqttws31.js.html#line1494">line 1494</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

    
    </div>

    

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="connect"><span class="type-signature"></span>connect<span class="signature">(connectOptions)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Connect this Messaging client to its server.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>connectOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">attributes used with the connection.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">If the connect has not succeeded within this                    number of seconds, it is deemed to have failed.                   The default is 30 seconds.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Authentication username for this connection.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Authentication password for this connection.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>willMessage</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Paho.MQTT.Message.html">Paho.MQTT.Message</a></span>


            
            </td>

            

            

            <td class="description last">sent by the server when the client                   disconnects abnormally.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keepAliveInterval</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">the server disconnects this client if                   there is no activity for this number of seconds.                   The default value of 60 seconds is assumed if not set.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cleanSession</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">if true(default) the client and server                    persistent state is deleted on successful connect.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>useSSL</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">if present and true, use an SSL Websocket connection.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>invocationContext</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">passed to the onSuccess callback or onFailure callback.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onSuccess</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">called when the connect acknowledgement                    has been received from the server.A single response object parameter is passed to the onSuccess callback containing the following fields:<ol><li>invocationContext as passed in to the onSuccess method in the connectOptions.       </ol></td>
        </tr>

    
    </tbody>
</table>
            </td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mqttws31.js.html">mqttws31.js</a>, <a href="mqttws31.js.html#line1636">line 1636</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    
    <h5>Throws:</h5>
    
            

<dl>
    <dt>
        <div class="param-desc">
        if the client is not in disconnected state. The client must have received connectionLostor disconnected before calling connect for a second or subsequent time.
        </div>
    </dt>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">InvalidState</span>


            </dd>
        </dl>
    </dt>
</dl>


        

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="disconnect"><span class="type-signature"></span>disconnect<span class="signature">()</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Normal disconnect of this Messaging client from its server.
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mqttws31.js.html">mqttws31.js</a>, <a href="mqttws31.js.html#line1885">line 1885</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    
    <h5>Throws:</h5>
    
            

<dl>
    <dt>
        <div class="param-desc">
        if the client is already disconnected.
        </div>
    </dt>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">InvalidState</span>


            </dd>
        </dl>
    </dt>
</dl>


        

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="getTraceLog"><span class="type-signature"></span>getTraceLog<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;Object>}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Get the contents of the trace log.
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mqttws31.js.html">mqttws31.js</a>, <a href="mqttws31.js.html#line1896">line 1896</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    tracebuffer containing the time ordered trace records.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Object></span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="send"><span class="type-signature"></span>send<span class="signature">(message)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Send a message to the consumers of the destination in the Message.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Paho.MQTT.Message.html">Paho.MQTT.Message</a></span>


            
            </td>

            

            

            <td class="description last">to send.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mqttws31.js.html">mqttws31.js</a>, <a href="mqttws31.js.html#line1867">line 1867</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    
    <h5>Throws:</h5>
    
            

<dl>
    <dt>
        <div class="param-desc">
        if the client is not connected.
        </div>
    </dt>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">InvalidState</span>


            </dd>
        </dl>
    </dt>
</dl>


        

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="startTrace"><span class="type-signature"></span>startTrace<span class="signature">()</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Start tracing.
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mqttws31.js.html">mqttws31.js</a>, <a href="mqttws31.js.html#line1907">line 1907</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="stopTrace"><span class="type-signature"></span>stopTrace<span class="signature">()</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Stop tracing.
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mqttws31.js.html">mqttws31.js</a>, <a href="mqttws31.js.html#line1917">line 1917</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="subscribe"><span class="type-signature"></span>subscribe<span class="signature">(filter, subscribeOptions)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Subscribe for messages, request receipt of a copy of messages sent to the destinations described by the filter.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">describing the destinations to receive messages from.<br></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>subscribeOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">used to control the subscription
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>qos</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">the maiximum qos of any publications sent                                  as a result of making this subscription.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>invocationContext</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">passed to the onSuccess callback                                  or onFailure callback.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onSuccess</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">called when the subscribe acknowledgement                                 has been received from the server.                                 A single response object parameter is passed to the onSuccess callback containing the following fields:                                 <ol>                                 <li>invocationContext if set in the subscribeOptions.                                        </ol></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onFailure</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">called when the subscribe request has failed or timed out.                                 A single response object parameter is passed to the onFailure callback containing the following fields:                                 <ol>                                 <li>invocationContext - if set in the subscribeOptions.                                        <li>errorCode - a number indicating the nature of the error.                                 <li>errorMessage - text describing the error.                                       </ol></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">which, if present, determines the number of                                 seconds after which the onFailure calback is called.                                 The presence of a timeout does not prevent the onSuccess                                 callback from being called when the subscribe completes.</td>
        </tr>

    
    </tbody>
</table>
            </td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mqttws31.js.html">mqttws31.js</a>, <a href="mqttws31.js.html#line1775">line 1775</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    
    <h5>Throws:</h5>
    
            

<dl>
    <dt>
        <div class="param-desc">
        if the client is not in connected state.
        </div>
    </dt>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">InvalidState</span>


            </dd>
        </dl>
    </dt>
</dl>


        

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="unsubscribe"><span class="type-signature"></span>unsubscribe<span class="signature">(filter, unsubscribeOptions)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Unsubscribe for messages, stop receiving messages sent to destinations described by the filter.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">describing the destinations to receive messages from.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>unsubscribeOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">used to control the subscription
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>invocationContext</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">passed to the onSuccess callback 
		                                      or onFailure callback.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onSuccess</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">called when the unsubscribe acknowledgement has been received from the server.                                   A single response object parameter is passed to the                                    onSuccess callback containing the following fields:                                   <ol>                                   <li>invocationContext - if set in the unsubscribeOptions.                                        </ol></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onFailure</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">called when the unsubscribe request has failed or timed out.                                   A single response object parameter is passed to the onFailure callback containing the following fields:                                   <ol>                                   <li>invocationContext - if set in the unsubscribeOptions.                                          <li>errorCode - a number indicating the nature of the error.                                   <li>errorMessage - text describing the error.                                         </ol></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">which, if present, determines the number of seconds                                   after which the onFailure callback is called. The presence of                                   a timeout does not prevent the onSuccess callback from being                                   called when the unsubscribe completes</td>
        </tr>

    
    </tbody>
</table>
            </td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mqttws31.js.html">mqttws31.js</a>, <a href="mqttws31.js.html#line1825">line 1825</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    
    <h5>Throws:</h5>
    
            

<dl>
    <dt>
        <div class="param-desc">
        if the client is not in connected state.
        </div>
    </dt>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">InvalidState</span>


            </dd>
        </dl>
    </dt>
</dl>


        

    

    
</dd>

        </dl>
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Paho.MQTT.Client.html">Client</a></li><li><a href="Paho.MQTT.Message.html">Message</a></li></ul><h3>Namespaces</h3><ul><li><a href="Paho.MQTT.html">MQTT</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Tue Jul 29 2014 07:26:57 GMT+0800 (CST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>